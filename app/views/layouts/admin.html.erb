<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Event Invite" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%# Includes all stylesheet files in app/assets/stylesheets %>
    <%# <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>

    <%= javascript_include_tag 'color-modes', 'data-turbo-track': 'reload', defer: true %>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.2/dist/chart.umd.js" integrity="sha384-eI7PSr3L1XLISH8JdDII5YN/njoSsxfbrkCTnJrzXt+ENP5MOVBxD+l6sEG4zoLp" crossorigin="anonymous"></script>
  </head>

  <body data-bs-theme="dark">
    <div class="d-flex flex-sm-row flex-column mb-3" style="height:100%;">
      <div class="p-2 col-sm-2 text-nowrap">
        <!-- https://stackoverflow.com/questions/48472771/bootstrap-responsive-sidebar-menu-to-top-navbar -->

        <!-- added align-self-start to each nav element -->
        <div class="d-flex flex-sm-column flex-row flex-grow-1 align-items-center align-items-sm-start px-3 pt-2 text-white">
        <a href="/" class="align-self-start d-flex align-items-center pb-sm-3 mb-md-0 me-md-auto text-white text-decoration-none">
            <span class="fs-5"><span class="d-none d-sm-inline">The </span>P<span class="d-none d-sm-inline">ages</span></span>
        </a>
        <ul class="align-self-start nav nav-pills flex-sm-column flex-row flex-nowrap flex-shrink-1 flex-sm-grow-0 flex-grow-1 mb-sm-auto mb-0 justify-content-center align-items-center align-items-sm-start" id="menu">
          <!--
          <li class="dropdown">
              <a href="#" class="nav-link dropdown-toggle px-sm-0 px-1" id="dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="fs-5 bi-bootstrap"></i><span class="ms-1 d-none d-sm-inline">Bootstrap</span>
              </a>
              <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdown">
                  <li><a class="dropdown-item" href="#">New project...</a></li>
                  <li><a class="dropdown-item" href="#">Settings</a></li>
                  <li><a class="dropdown-item" href="#">Profile</a></li>
                  <li>
                      <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item" href="#">Sign out</a></li>
              </ul>
          </li>
          -->
          <li>
            <!-- <a href="#" class="nav-link px-sm-0 px-2"> -->
            <%= link_to(admin_invitations_path, class: "nav-link px-2 #{'active' if params[:controller] == 'admin/invitations'}") do %>
              <i class="fs-5 bi-people"></i><span class="ms-1 d-none d-sm-inline">Invitations</span>
            <% end %>
            <!-- </a> -->
          </li>
          <li>
            <!-- <a href="#" class="nav-link px-sm-0 px-2"> -->
            <%= link_to(admin_events_path, class: "nav-link px-2 #{'active' if params[:controller] == 'admin/events'}") do %>
              <i class="fs-5 bi-calendar-range"></i><span class="ms-1 d-none d-sm-inline">Events</span>
            <% end %>
            <!-- </a> -->
          </li>
        </ul>
      </div>
      </div>
      <div class="p-2 flex-fill overflow-auto">
        <%= yield %>
      </div>
    </div>
  </body>
</html>
